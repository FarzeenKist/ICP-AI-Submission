# AI Quiz

This repository contains a decentralized application (DApp) that allows users to create and participate in quizzes they generated and, earn rewards. The backend canister is built using Azle and integrates with the Internet Computer network (ICP) to handle the storage of quizzes, ending quizzes, and rewarding users. The frontend is built using **React** and **Tailwind CSS**, while **Cohere AI** is used to generate quizzes based on user inputs such as topic, difficulty, and number of questions.

## Table of Contents

- [Features](#features)
- [Getting Started](#getting-started)
- [Functions](#functions)
- [Contributing](#contributing)
- [License](#license)

## Features

- **Create Quizzes**: Users can create quizzes with multiple-choice questions generated by AI based on the difficulty, topic, and the number of questions.
- **Answer Questions**: Users can submit answers to quizzes to potentially win 1 ICP token upon successfully answering all questions in a quiz.
- **Account Management**: Users can create accounts to track their generated quizzes and total earnings.

## Getting Started

1. Clone the repository:
   ```bash
   git clone https://github.com/FarzeenKist/ICP-AI-Submission
   cd ICP-AI-Submission
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

### Running the Application

To deploy all canisters, follow these steps:

```bash
# Start DFX
dfx start --background --clean

# Deploy Ledger Canister
./deploy-local-ledger.sh

# Deploy Internet Identity
dfx deploy internet_identity

# Generate type declarations
dfx generate submission_backend

# Deploy Backend Canister
dfx deploy submission_backend

# Deploy Frontend Canister
dfx deploy submission_frontend

# Transfer Tokens to submission_backend to allow distribution of tokens
dfx ledger transfer <ADDRESS> --memo 0 --icp 100 --fee 0
```

Replace `<ADDRESS>` with the address of the `submission_backend` canister. To get the address from the principal, you can use the helper function `getAddressFromPrincipal(principal: Principal)`.

### Frontend Setup

The frontend is built using **React** and **Tailwind CSS**. After deploying the canisters, you can start the frontend by running:

```bash
npm start
```

This will launch the DApp in development mode.

## Functions

### 1. Account Management

- **createAccount**: Creates a new account for the caller if it does not already exist. Returns the created account.
  
- **getAccount**: Retrieves the account details for the caller. Returns an error if the account does not exist.
  
- **hasAccount**: Checks if the caller has an account. Returns a boolean value.

- **getQuizzes**: Fetches all quizzes created by the caller. Returns a list of quizzes.

### 2. Quiz Management

- **createQuiz**: Uses **Cohere AI** to generate a quiz based on user-provided parameters (topic, difficulty, number of questions). Returns the created quiz.

- **getQuiz**: Fetches quiz data based on the quiz ID. Returns an error if the quiz is not found or if the caller is not the owner.

- **submitAnswers**: Submits answers for a specific quiz. Validates if all questions are answered correctly and rewards the user if successful.

### 3. Utility Functions

- **getAddressFromPrincipal**: Converts a principal to a hex address for transaction purposes.

- **getCanisterId**: Retrieves the ID of the current canister.

## Contributing

Contributions are welcome! Please submit a pull request or open an issue for any improvements or bugs.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for more details.